<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.maximusteam.tripfulaxel.user.mypage.model.dao.UserMypageMapper">


<!-- resultMap은 결과값을 받아주는곳이다 결과값을담아줄때의 규칙이 필요하기에 collection과 association을 사용한다.-->
<resultMap type="com.maximusteam.tripfulaxel.user.mypage.model.dto.MypageTripDTO" id="trip">
			<result property="tripTitle" column="TRIP_TITLE"/>
			<result property="joinTripCode" column="J_TRIP_CODE"/>
			<result property="joinTripDate" column="JOIN_TRIP_DATE"/>
</resultMap>
			


	
	
	<select id="selectJoinList" resultMap="trip">
	SELECT
		   TT.TRIP_TITLE,
		   t.J_TRIP_CODE,
		   jta.JOIN_TRIP_DATE
	  FROM TRIP TT
	  JOIN JOIN_TRIP t ON (TT.TRIP_CODE = t.J_TRIP_CODE)
	  join trip_regist_list trl ON (TT.TRIP_CODE = trl.TRIP_CODE)
	  JOIN JOIN_TRIP_APPLY jta ON (trl.TRIP_REGIST_LIST_CODE = jta.TRIP_REGIST_LIST_CODE)
	</select>

	<!-- 관리자리스트 
	<resultMap id="adminList" type="AdminDTO">
		<id column="ADMIN_NO" property="adminNo" />
		<result column="ADMIN_POSITION" property="adminPosition" />
		<result column="ADMIN_NAME" property="adminName" />
		<result column="ADMIN_EMAIL" property="adminEmail" />
		<result column="ADMIN_HIRE_DATE" property="hireDate" />
	</resultMap>

	 회원리스트 
	<resultMap id="memberList" type="MemberDTO">
		<id column="USER_CODE" property="memberNo" />
		<result column="USER_NAME" property="memberName" />
		<result column="USER_EMAIL" property="memberId" />
		<result column="USER_REGISTER_DAY" property="enrollDate" />
		<result column="USER_REPORT_COUNT" property="count" />
	</resultMap>
	
	 신고리스트 
	<resultMap id="reportList" type="ReportDTO">
		<id column="EXAMINE_REQUEST_CODE" property="reportNo" />
		<result column="EXAMINE_REQUEST_REASON" property="reportTitle" />
		<result column="EXAMINE_REQUEST_YN" property="reportStatus" />
		<result column="EXAMINE_REQUEST_DATE" property="reportDate" />
	</resultMap>
	
	 가이드 리스트 
	<resultMap id="guideList" type="GuideDTO">
		<id column="GUIDE_CODE" property="guideNo" />
		<result column="USER_EMAIL" property="guideId" />
		<result column="USER_GUIDE_YN" property="guideEnrollStatus" />
		<result column="GUIDE_YN" property="guideApproveStatus" />
	</resultMap> -->

</mapper>