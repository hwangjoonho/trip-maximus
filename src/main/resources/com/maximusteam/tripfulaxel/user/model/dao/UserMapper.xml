<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.maximusteam.tripfulaxel.user.model.dao.UserMapper">
	
	<!-- 회원가입  -->
	<!--  parameterType : 파라미터의 타입을 지정한다. 이미 정의된 별칭을 사용할 수 있거나, 클래스의 full-name을 적어준다.  -->
	<insert id="registUser" parameterType="com.maximusteam.tripfulaxel.user.model.dto.UserDTO">
	 <selectKey resultType="int"  keyProperty="userCode" order="BEFORE">
	 	SELECT MAX(USER_CODE) + 1 FROM USER
	 </selectKey>
		INSERT INTO USER 
		(
			 USER_CODE
		   , USER_NAME
		   , USER_PHONE
		   , USER_PWD
		   , USER_BDAY
		   , USER_GENDER
		   , USER_EMAIL
		   , USER_REGISTER_DAY
		)
        VALUES
        (
            #{ userCode }
          , #{ userName }
          , #{ userPhone }
          , #{ userPwd }
          , #{ userBday }
          , #{ userGender }
          , #{ userEmail }
          , NOW()
        )
	</insert>


</mapper>

